---
layout: base.njk
---

<section class="hero-section">
    <div class="hero-center">
        <div class="upper-title">
            <img class="decoration-l" src="/img/icons/icon_var2.svg" alt="">
            <h2>{{ title }}</h2>
            <img class="decoration-r" src="/img/icons/icon_var2.svg" alt="">
        </div>
        <div class="main-title">
            <h1>Aktuelles</h1>
        </div>
        <div class="lower-title">
            <hr>
                <h2>vom Schillergymnasium</h2>
            <hr>
        </div>

        <img class="background" src="{{ banner }}" alt="">
    </div>

    {% include 'lower-hero.njk' %}
</section>

<section class="contents">
    <div class="content">
        <h1>{{title}}</h1>
        
        {{ content | safe}}

        <p id="description"></p>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
            // Find the div with the class "content"
            const contentDiv = document.querySelector('.content');

            // Find all paragraphs within the "content" div
            const paragraphs = contentDiv.querySelectorAll('p');

            let foundParagraph = false;

            // Loop through each paragraph
            for (let i = 0; i < paragraphs.length; i++) {
                const paragraph = paragraphs[i];

                // Check if the paragraph has text content
                if (paragraph.textContent.trim() !== '') {
                foundParagraph = true;
                const content = paragraph.textContent;
                let displayContent;

                // Check if the content exceeds the character limit
                if (content.length > 200) {
                    // Trim the content to the character limit and add "..."
                    displayContent = content.substring(0, 200) + '...';
                } else {
                    // If the content is within the character limit, use it as is
                    displayContent = content;
                }

                // Create a new paragraph element with the id "description"
                const descriptionParagraph = document.getElementById('description');
                
                // Set the content of the new paragraph
                descriptionParagraph.textContent = displayContent;

                // Break out of the loop after processing the first paragraph with text content
                break;
                }
            }

            // If no paragraph with text content is found
            if (!foundParagraph) {
                console.log('No paragraph with text content found.');
            }
            });
        </script>

    </div>
</section>